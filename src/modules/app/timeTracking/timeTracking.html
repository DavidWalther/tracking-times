<template>
  <salesforceInterface></salesforceInterface>
  <div class="content">
    <div class="container-github wide">
      <a
        target="_blank"
        href="https://github.com/DavidWalther/tracking-times/"
        class="button-github"
        >See the code on Github</a
      >
    </div>
    <div class="button-bar_mobile">
      <ui-sidemenu>
        <div class="container-github">
          <a
            target="_blank"
            href="https://github.com/DavidWalther/tracking-times/"
            class="button-github"
            >See the code on Github</a
          >
        </div>
        <div>
          <ui-button
            design="info"
            value={label.button.download.value}
            class="button-export"
            onclick={handleClickExport}
          ></ui-button>
        </div>
        <div>
          <ui-button
            design="deny"
            value={label.button.clear.value}
            class="button-clear"
            onclick={handleClickClear}
          ></ui-button>
        </div>
      </ui-sidemenu>
      <div class="buttons">
        <div>
          <ui-button
            design="info"
            value={label.button.add.value}
            class="button-add"
            onclick={handleClickAdd}
          ></ui-button>
        </div>
        <div>
          <ui-button
            design="info"
            value="Summary"
            class="button-summary"
            onclick={handleClickSummary}
            disabled
          ></ui-button>
          <ui-button
            design="info"
            value="Authenticate"
            class="button-auth"
            onclick={handleClickAuth}
            disabled
          ></ui-button>
        </div>
      </div>
    </div>
    <div class="button-bar_wide">
      <div class="button container-clear">
        <ui-button
          value={label.button.clear.value}
          class="button-clear"
          onclick={handleClickClear}
        ></ui-button>
      </div>
      <div class="button container-export">
        <ui-button
          value={label.button.download.value}
          class="button-export"
          onclick={handleClickExport}
        ></ui-button>
      </div>
      <div class="button container-add">
        <ui-button
          value={label.button.add.value}
          class="button-add"
          onclick={handleClickAdd}
        ></ui-button>
      </div>
      <div class="button container-summary">
        <ui-button
          value="Summary"
          class="button-summary"
          disabled
          onclick={handleClickSummary}
        ></ui-button>
      </div>
      <div class="button container-auth">
        <ui-button
          design="info"
          value="Authenticate"
          class="button-auth"
          onclick={handleClickAuth}
        ></ui-button>
      </div>
    </div>
    <template if:true={authData}>
      <div>
        <div><input name="InputAccountName" /></div>
        <div>
          <input type="button" value="Create" onclick={onCreateAccount} />
        </div>
      </div>
      <div>
        <table>
          <tr>
            <td>access_token</td>
            <td><span class="code">{authData.access_token}</span></td>
          </tr>
          <tr>
            <td>id</td>
            <td><span class="code">{authData.id}</span></td>
          </tr>
          <tr>
            <td>instance_url</td>
            <td><span class="code">{authData.instance_url}</span></td>
          </tr>
          <tr>
            <td>issued_at</td>
            <td><span class="code">{authData.issued_at}</span></td>
          </tr>
          <tr>
            <td>scope</td>
            <td><span class="code">{authData.scope}</span></td>
          </tr>
          <tr>
            <td>signature</td>
            <td><span class="code">{authData.signature}</span></td>
          </tr>
          <tr>
            <td>token_type</td>
            <td><span class="code">{authData.token_type}</span></td>
          </tr>
        </table>
      </div>
    </template>
    <div class="container-list entries">
      <template for:each={state.entries} for:item="entry" for:index="index">
        <div key={entry.itemId}>
          <app-entry
            data-index={entry.sortnumber}
            item-id={entry.itemId}
            start={entry.start}
            end={entry.end}
            break={entry.break}
            comment={entry.comment}
            onchange={handleChangeEntry}
            ondelete={handleEventDelete}
            onselect={handleEventSelect}
            onunselect={handleEventUnselect}
          ></app-entry>
        </div>
      </template>
    </div>
  </div>
  <ui-modal-confirmable
    class="modal-clear"
    title={state.label.modal.clear.title}
    confirm-design="deny"
    confirm-label="Clear"
    onconfirm={handleClickClearConfirm}
    cancel-design="info"
    cancel-label="Cancel"
    oncancel={handleClickClearCancel}
  >
    <div class="modal-clear-body">
      <span>{state.label.modal.clear.body}</span>
    </div>
  </ui-modal-confirmable>
  <ui-modal-generic class="modal-summary">
    <div slot="header">Summary</div>
    <div slot="body">
      <label for="summary-difference">diff (h)</label>
      <output id="summary-difference" class="summary-difference"></output>
      <label for="summary-comment">comment</label>
      <textarea
        readonly
        id="summary-comment"
        class="summary-comment"
      ></textarea>
    </div>
  </ui-modal-generic>
</template>
